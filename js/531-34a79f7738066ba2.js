"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{27531:function(e,t,n){n.d(t,{j:function(){return I}});var r=n(20406),a=n(77162),o=n.n(a),i=n(2784),u=n(63955),c=n(42772),s=n(30621),d=n(29956),l=n(53850),p=n(16914),f=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.get("".concat("/api/v3/travel-packages/search/autocomplete/").concat(t));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",(404!==(null===(a=e.t0)||void 0===a?void 0:a.response.status)&&console.error(a),[]));case 11:case"end":return e.stop()}var a}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.get("".concat("/api/v3/travel-packages/get-iata-info/").concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=n(31910),g=n(19034),h=n.n(g),b=n(53944),_=n(80316),y=(0,_.ZP)(d.Dw).withConfig({displayName:"styles__SizedDateRangePicker",componentId:"sc-18ei0db-0"})(["width:100%;@media ","{flex:1 0 calc(50% - 2rem);}@media ","{flex:0 0 23rem;}"],b.Z.minXS,b.Z.minLG),D=(0,_.ZP)(d.zx).withConfig({displayName:"styles__ExpandButton",componentId:"sc-18ei0db-1"})(["width:100%;@media ","{flex:1 0 19.2rem;}@media ","{flex-grow:0;}"],b.Z.minXS,b.Z.minLG),k=_.ZP.div.withConfig({displayName:"styles__LocationSearch",componentId:"sc-18ei0db-2"})(["@media ","{flex:1 0 calc(50% - 2rem);}@media ","{flex:1 0 19rem;}"],b.Z.minXS,b.Z.minLG),w=n(66433),O=n(68511),x=n(95235),P=n(12074),j=n(48236),S=n(16789);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,x.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,P.F)(t.package.rooms),e.next=3,m(t.package_arrival.id);case 3:return r=e.sent,a=r.code,i={de:t.package_departure.code,para:a,localizacao:t.package_arrival.name,tipo:t.package_arrival.type,id:t.package_arrival.id,ida:new Date(t.outbound_date),volta:new Date(t.inbound_date),quartos:t.package.rooms,adultos:n.adults,criancas:n.children},n.babies>0&&(i.bebes=n.babies),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=Z(Z({},e),{},{quartos:(0,j.L1)(e.quartos)});return"".concat("/pacotes/hoteis/","?").concat((0,S.K)(t))},L=n(40142),I=function(e){var t,n,a,p=e.config,m=(0,c.I0)(),g=(0,c.v9)((function(e){return e.flightTrip})),b=(0,i.useRef)((0,L.dY)().toDate()),_=(0,i.useRef)((0,L.vs)()),x=(0,u.cI)({resolver:(0,s.X)(w.PackageSearchFormSchema,void 0,{mode:"sync"}),mode:"onChange",reValidateMode:"onChange",defaultValues:{package_departure:null===(t=g.package_departure)||void 0===t?void 0:t.code,package_arrival:g.package_arrival,outbound_date:g.outbound_date&&(null===(n=(0,L.jG)(h()(g.outbound_date)))||void 0===n?void 0:n.toDate()),inbound_date:g.inbound_date&&(null===(a=(0,L.jG)(h()(g.inbound_date)))||void 0===a?void 0:a.toDate()),rooms:g.package.rooms}}),P=x.control,j=x.formState,S=x.handleSubmit,E=x.setValue,Z=x.trigger,I=(0,i.useState)(!1),G=I[0],A=I[1],B=(0,i.useState)(!1),R=B[0],V=B[1],M=function(e){return e.name},N=function(e){return e.id},Y=function(e){return e.id+e.hotelId},T=g.package.rooms.reduce((function(e,t){return e+t.adults.quantity+t.children.quantity}),0),F=p.max_travellers-T,Q=function(e){return e?h()(e):null};return i.createElement("form",{onSubmit:S((0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=C,e.next=3,q(g);case 3:e.t1=e.sent,t=(0,e.t0)(e.t1),window.open(t,"_self");case 6:case"end":return e.stop()}}),e)}))))},i.createElement(d._8,{title:"PACOTES"},i.createElement(k,{as:d.ln,control:P,name:"package_departure",label:"De onde você está saindo?",placeholder:"Busque um aeroporto",getAirports:l.k,icon:"outlined-plane-departure",model:g.package_departure,onChange:function(e){m((0,O.cq)(e))}}),i.createElement(u.Qr,{control:P,name:"package_arrival",render:function(e){var t=e.field,n=t.onChange,a=t.onBlur;return i.createElement(k,{as:d.pY,onClose:function(){A(!1),a()},inputIcon:"outlined-location",inputLabel:"Para onde você vai?",inputPlaceholder:"Busque cidade ou hospedagem",onOpen:function(){A(!0)},optionsList:function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f(t),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),open:G,title:"Para onde você vai?",model:g.package_arrival,onChangeSelectedItem:function(e){n(e),a(),m((0,O.se)(e))},error:!!j.errors.package_arrival,message:j.errors.package_arrival&&"Escolha uma cidade ou hospedagem",getItemLabel:M,getItemValue:N,getItemKey:Y,filters:[v.Pn]})}}),i.createElement(u.Qr,{control:P,name:"outbound_date",render:function(e){var t,n=e.field,r=n.onBlur,a=n.onChange,o=!(!j.errors.outbound_date&&!j.errors.inbound_date);return i.createElement(y,{startDate:Q(g.outbound_date),endDate:Q(g.inbound_date),startDateLabel:"Ida",endDateLabel:"Volta",startDatePlaceholder:"Data da ida",endDatePlaceholder:"Data da volta",startDateId:"datepicker-hotel-checkin",endDateId:"datepicker-hotel-checkout",desktopLabel:"Escolha o período",startDateSmallPlaceholder:"Ida",endDateSmallPlaceholder:"Volta",initialDate:null!==(t=Q(g.outbound_date))&&void 0!==t?t:h()(),minDate:_.current,maxDate:h()(b.current),minimumNights:p.reservation_nights.min,maximumNights:p.reservation_nights.max,onDatesChange:function(e){var t,n,r,o;m((0,O.rm)({startDate:null===(t=e.startDate)||void 0===t?void 0:t.format(),endDate:null===(n=e.endDate)||void 0===n?void 0:n.format()})),a(null===(r=e.startDate)||void 0===r?void 0:r.toDate()),E("inbound_date",null===(o=e.endDate)||void 0===o?void 0:o.toDate())},onBlur:function(){r(),Z("inbound_date")},hasError:o,outboundDateError:!!j.errors.outbound_date,inboundDateError:!!j.errors.inbound_date,errorMessage:o&&"Escolha uma data de ida e volta"})}}),i.createElement(u.Qr,{control:P,name:"rooms",render:function(e){var t=e.field,n=t.onChange,r=t.onBlur,a=e.fieldState.error,o=a&&a instanceof Array&&a.some((function(e){var t;return null==e||null===(t=e.children)||void 0===t?void 0:t.ages}));return i.createElement(i.Fragment,null,i.createElement(d.DS,{guestString:"viajante",isOpen:R,invalid:o,errorMessage:o&&"Selecione a idade do menor",label:"Quartos e viajantes",onToogle:function(){R&&(n(g.package.rooms),r()),V(!R)},onChangeAdultGuestValue:function(e,t){m((0,O.TP)({index:e,quantity:t}))},onChangeMinorGuestValue:function(e,t,n){m((0,O.o7)({index:e,quantity:t,ages:n})),r()},onRemoveRoom:function(e){m((0,O.jr)(e))},onAddRoom:function(){m((0,O.DQ)())},avaliableGuests:F,rooms:g.package.rooms,ageList:p.available_children_ages,adultGuestData:{title:"Adultos",description:"apartir de 18 anos",maxLimit:0===F?F:p.max_adult_guests,minLimit:p.min_adult_guests},minorGuestData:{title:"Menores",description:"até 17 anos",maxLimit:0===F?F:p.max_children_guests,minLimit:0},showAddRoomButton:g.package.rooms.length<p.max_hotel_rooms&&T<p.max_travellers}))}}),i.createElement(D,{colorScheme:"gradient",buttonVariant:"cta",type:"submit"},"BUSCAR PACOTES")))}},53850:function(e,t,n){n.d(t,{f:function(){return c},k:function(){return u}});var r=n(20406),a=n(77162),o=n.n(a),i=n(16914),u=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<3)){e.next=3;break}return console.warn("Warning trying to use an short query string on airport search"),e.abrupt("return",[]);case 3:return e.next=5,i.Z.post("/api/v3/home/search-airports",{text:t});case 5:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:return n=e.sent,e.abrupt("return",n.find((function(e){return e.code===t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},12074:function(e,t,n){n.d(t,{F:function(){return r}});var r=function(e){return e.reduce((function(e,t){return{adults:e.adults+t.adults.quantity,children:e.children+t.children.ages.filter((function(e){return e>2})).length,babies:e.babies+t.children.ages.filter((function(e){return e<2})).length}}),{adults:0,children:0,babies:0})}},40142:function(e,t,n){n.d(t,{dY:function(){return o},jG:function(){return u},vs:function(){return i}});var r=n(19034),a=n.n(r),o=function(){return a()().add(1,"year").add(2,"days")},i=function(){return a()()},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o();return e.isSameOrAfter(t,"days")&&e.isSameOrBefore(n,"days")?e:null}},48236:function(e,t,n){n.d(t,{GI:function(){return c},L1:function(){return s}});var r=n(95235),a=n(12074),o=n(16789);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e,t){var n=(0,a.F)(e.rooms);return{adultos:n.adults,bebes:n.babies,checkin:new Date(e.checkinDate),checkout:new Date(e.checkoutDate),criancas:n.children,id:e.location.id,localizacao:e.location.name,quartos:e.rooms,tipo:e.location.type,is_loyalty:t?e.currencyType:"0"}},s=function(e){return e?e.map((function(e){var t=e.adults,n=e.children,r="".concat(t.quantity).concat(n.quantity>0?"-"+n.quantity:"");return"".concat(r).concat(n.quantity?":"+n.ages.join("-"):"")})).join("!"):""};t.ZP=function(e){var t=u(u({},e),{},{quartos:s(e.quartos)});return"".concat("/hoteis","?").concat((0,o.K)(t))}},16789:function(e,t,n){n.d(t,{K:function(){return i}});var r=n(8529),a=n(19034),o=n.n(a),i=function(e){return new URLSearchParams(function(e){var t={};return Object.entries(e).forEach((function(e){var n,a=(0,r.Z)(e,2),i=a[0],u=a[1];u instanceof Date?t[i]=(n=u,o()(n).format("DD-MM-YYYY")):null!=u&&(t[i]=u.toString())})),t}(e)).toString()}}}]);